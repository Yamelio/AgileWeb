
<html>
	<head>
	<title>Choix des voeux</title>

    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src='js/jquery-2.1.3.js'></script>

	<script>
		var voeux = "<ul class=\"list-group\">";
		var tmp="";
		var dejafait = $("<i> Vous avez déjà ajouté cette formation </i>");
		var ajoutermsg = $("<i> Formation ajouté à votre liste </i>");

		function contient(a, b) {
    		return a.indexOf(b) >= 0;
		}
  		function addVoeux(id) {
  		$('#info').empty();



  		if(tmp.indexOf(document.getElementsByTagName('table')[0].getElementsByTagName('tr')[id].cells[1].innerHTML) >= 0 ){

			 dejafait.appendTo('#info');
  		}
  		else{
  			tmp+=document.getElementsByTagName('table')[0].getElementsByTagName('tr')[id].cells[1].innerHTML+" ";
   			voeux = $("<li class=\"list-group-item\">"+document.getElementsByTagName('table')[0].getElementsByTagName('tr')[id].cells[1].innerHTML+" - " + document.getElementsByTagName('table')[0].getElementsByTagName('tr')[id].cells[0].innerHTML+"</li></ul>");
			voeux.appendTo('#liste');
			ajoutermsg.appendTo('#info');

		}
	}

	var contenu = "<table class=\"table table-striped\"><thead><tr><th>Ecole</th><th>Formation</th><th>Site</th><th>Lieu</th><th>Choisir</th></tr></thead><tbody>";
	contenu+= "<tr class=\"info\"><td>IUT A</td><td>Licence Pro DA2I</td><td><a href=\"https://da2i.univ-lille1.fr/\">DA2I</a></td><td>Lille</td><td><input type=submit id=1 onclick=\"addVoeux(this.id)\" value=\"Ajouter\"></td></tr>"
	contenu+= "<tr><td>IUT A</td><td>Licence Pro CGIR</td><td><a href=\"https://www-iut.univ-lille1.fr/?aff=ID5&titre=Licences%20Pros&titre2=LP-INFORMATIQUE&loc=licences_professionnelles_info/\">CGIR</a></td><td>Lille</td><td><input type=submit id=2 onclick=\"addVoeux(this.id)\" value=\"Ajouter\"></td></tr>"
	contenu+= "<tr class=\"info\"><td>IUT A</td><td>Licence Pro IRI</td><td><a href=\"https://www-iut.univ-lille1.fr/?aff=ID5&titre=Licences%20Pros&titre2=LP-GEII&loc=licences_professionnelles_geii\">IRI</a></td><td>Lille</td><td><input type=submit id=3 onclick=\"addVoeux(this.id)\" value=\"Ajouter\"></td></tr>"
     contenu+="</tbody></table>";

$(document).ready(function() {
  // Mettre ici les gestionnaires d'évènements pour les différents boutons

  $('#ok_type').click(function (event) {
  	$('#output').empty();
  	var formation = $('#formation').val();
  	console.log(formation);
  	if(formation === "Ecole d'ingénieur"){
  	var res = $("<p> Voici les différentes formation d' "+formation+"</p>");
  }
  else{
  	var res = $("<p> Voici les différentes formation de "+formation+"</p>");

  }
  var listeformation = $(contenu);

    
       res.appendTo('#output');
       listeformation.appendTo('#output');
  });
    
     $('#faire_1').click(function (event) {
         $('#mes_formation').hide();
     	  	$('#choix_formation').show();
     	  	

     });

    $('#voeux_1').click(function (event) {
     	  	$('#choix_formation').hide();
     	  	$('#mes_formation').show();

     });

    $('#faire_2').click(function (event) {
         $('#mes_formation').hide();
          $('#choix_formation').show();
          

     });

    $('#voeux_2').click(function (event) {
          $('#choix_formation').hide();
          $('#mes_formation').show();

     });

    // pour démarrer sur la page de choix
  $('#faire_1').trigger('click');
  $('#faire_2').trigger('click');

 
}); // end document.ready
    </script>

</head>
<body>
  <center>

    <div id="choix_formation"/>
      <h1> Choisir mes Formations </h1>

      <input id='faire_1' type='button' class="btn" name = 'submit' value="Choisir mes voeux">
      <input id='voeux_1' type='button' class="btn" name = 'submit' value="Consulter ma liste">
    

      <div class="form-actions" style="margin:20px">
     
        <FORM>
          <div id="type_form">
            <label>Filiere - </label>
            <SELECT name="formation" class="span2" id="formation" size="1">
              <OPTION>Licence Pro</OPTION>
              <OPTION>Licence</OPTION>
              <OPTION>Ecole d'ingénieur</OPTION>
            </SELECT>
            <input id='ok_type' type='button' class="btn" name = 'submit' value="OK">
          </div>
        </FORM>

      </div>

      <div id="output"/></div>
      <div id="info"/></div>
    </div>

    <div id="mes_formation"/>
      <h1> Ma liste de voeux </h1>
      <input id='faire_2' type='button' class="btn" name = 'submit' value="Choisir mes voeux">
      <input id='voeux_2' type='button' class="btn" name = 'submit' value="Consulter ma liste">
      <div id="liste">

      </div>  
    </div>


   
      

     
   

  </center>

</body>
</html>